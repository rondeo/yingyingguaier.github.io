---
title: 拒绝服务攻击
date: 2019-01-09 20:21:15
tags: [知识点]
categories: 整理
---

# 拒绝服务攻击

---


- **DoS（Denial of Service）：拒绝服务**

  短时间内对目标服务器产生大量请求，使服务器链路拥塞或忙于处理攻击请求，导致服务暂时中断或停止，使其他用户无法访问

- **DDoS（Distributed Denial of Service）：分布式拒绝服务**
	通过很多"僵尸主机"向受害主机发送大量看似正常的网络包，从而造成网络阻塞或服务器资源耗尽而导致拒绝服务。

## 拒绝服务攻击分类
### 网络层拒绝攻击
#### UDP-Flood
利用UDP协议的无连接性，针对服务器开放的UDP端口发送大量伪造源IP地址的小包或大包进行攻击。
#### ICMP-Flood(Ping-Flood)
通过尽可能地快速发送ICMP数据包给受害者计算机，使受害者带宽不足或系统性能不够，影响正常用户的访问。
#### TCP-Flood
TCP攻击俗称SYN泛洪，利用TCP三次握手协议来攻击计算机，主要是通过伪造大量IP的半连接去攻击对方系统。
### 应用层拒绝服务
#### CC攻击（HTTP-FLOOP）
攻击者操纵网络上的肉鸡进行海量的http request攻击，造成服务器资源耗尽，直到宕机崩溃。
#### slow http post
也称为slow body，先将HTTP Header中的Content-Length设置为一个较大的值，并在HTTP BODY中以非常缓慢的速度一个字节一个字节的向Web服务器发送，导致服务器一直处于等待状态中。
#### Slowloris
也称为slow headers，攻击者始终构造不完整的http header(非正常的\r\n结尾)发送，同时还间隔一定时间再发送数据，导致服务器一直处于等待状态。
### 反射放大攻击
反射：正常的UDP协议中客户端发送请求到服务器端，服务器返回响应包到客户端。利用UDP协议的面向无连接，可以对发送请求包的源ip地址进行伪造，把源ip修改成受害者的ip地址，使服务器返回的响应包返回受害者的IP。这就是反射攻击。
放大：利用一个小的请求包来获取一个甚至多个大的响应包。

#### SNMP协议
攻击者发送大量伪造IP(受害者IP)的GETBULK请求给开启了SNMP服务的设备，设备会将查询的结果返回给受害者IP。这里就是利用SNMP来进行了一个放大的功能。

#### DNS反射
正常流程：源IP地址--DNS查询--DNS服务器--DNS回复包--源IP地址
攻击流程：伪造IP地址(受害者IP)--DNS查询--DNS服务器--DNS回复包--伪造的IP地址(攻击目标)

#### NTP反射 
NTP是Network Time Protocol。能够在网络连接延时不稳定时，将不同设备通过分组交换进行时钟同步。
反射原因：NTP（server 4.4.7p26之前版本）默认提供monlist功能（该功能用于监控NTP服务器），NTP服务器响应monlist后会返回与NTP服务器进行过时间同步的最后600个客户端IP。

#### Memcached
Memcached是一款免费且开源的高性能分布式内存缓存系统，旨在通过减轻数据库负载来加速运行动态Web应用程序。
攻击流程：伪造IP地址(受害者IP)--发送请求到memcached服务器（11211端口）--回复放大万倍的包--伪造的IP地址(攻击目标)

案例：Github于2018年2月28遭受Memcached DDOS攻击，达到1.35Tbps（兆兆位/秒）的流量访问
#### CLDAP
#### SSDP

## 协议攻击
### SYN-FLOOD
正常流程：客户端发送SYN，服务端响应SYN+ACK，客户端回传ACK+1。
攻击流程：受控主机伪造源IP发送大量TCP SYN报文，使服务器打开大量的半开放连接，占满服务器的连接表，影响正常用户与服务器建立会话，造成拒绝服务。

#### ACK-Flood 
攻击原理：伪造SYN+ACK包发送给目标主机，目标主机查看TCP连接表有无ACK连接，有则发送ACK包完成TCP连接，无则发送ACK+RSY断开。在查询的过程中会消耗CPU资源，攻击者通过大量发送SYN+ACK包来打摊服务器。

#### Sockstress攻击
建立三次握手中，第三次发送ACK时，将TCP滑动窗口大小修改为0，服务器发现后会停止数据传输并询问TCP窗口是否更新，导致服务器一直维持等待数据发送和探测窗口更新。

#### SSL-Flood
通过SSL连接并握手后，不断重新协商来建立新的秘钥，而服务端消耗的资源是客户端的15倍，使服务器忙于协商秘钥而停止响应。

